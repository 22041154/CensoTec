<div class="container mt-4 mb-5">
  
  <div class="progress mb-4" style="height: 25px;">
    <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" 
         role="progressbar" style="width: 60%">
      Paso 3: Inventario Técnico (60%)
    </div>
  </div>

  <div class="card shadow-sm">
    
    <div class="card-header bg-white py-3">
      <h4 class="titulo-azul mb-1">Especificaciones Técnicas</h4>
      <small class="subtitulo-negro">
        Características técnicas del equipo de cómputo de la <strong>institución</strong>
      </small>
    </div>

    <div class="card-body">
      <form (ngSubmit)="guardar()">

        <h5 class="titulo-azul mb-1 mt-2"><i class="bi bi-pc-display me-2"></i>1. Tipo de Equipo</h5>
        <p class="descripcion-inter">Del total de computadoras para <strong>uso educativo en operación</strong>, desglóselas por tipo:</p>
        
        <div class="row g-3 mb-4">
          <div class="col-md-4" *ngFor="let item of catalogos.tipos">
            <label class="form-label fw-bold">{{ item.tipo }}</label>
            <input type="number" class="form-control" min="0" placeholder="0"
                   [(ngModel)]="item.cantidad" 
                   (ngModelChange)="calcularTotal(catalogos.tipos, 'tipos')"
                   [name]="'tipo_' + item.idtipocomputadora">
          </div>
          <div class="col-md-4">
             <label class="form-label fw-bold text-secondary">TOTAL EQUIPOS</label>
             <input type="number" class="form-control bg-light fw-bold text-primary" 
                    [value]="totales.tipos || 0" readonly> 
          </div>
        </div>

        <hr>

        <div class="d-flex align-items-center my-4 p-3 rounded" style="background-color: #f0f4ff; border-left: 5px solid #1F3564;">
            <i class="bi bi-info-circle-fill me-3" style="font-size: 1.5rem; color: #1F3564;"></i>
            <p class="mb-0 descripcion-inter" style="color: #333; font-weight: 500;">
                De las computadoras para <strong>uso educativo en operación</strong>, desglóselas según sus características a continuación:
            </p>
        </div>
        <h5 class="titulo-azul mb-1 mt-4"><i class="bi bi-memory me-2"></i>2. Memoria RAM</h5>
        <p class="descripcion-inter">Capacidad de memoria instalada en los equipos</p>

        <div class="row g-3 mb-4">
          <div class="col-md-4" *ngFor="let item of catalogos.ram">
            <label class="form-label fw-bold">{{ item.ram }}</label>
            <input type="number" class="form-control" min="0" placeholder="0"
                   [(ngModel)]="item.cantidad" 
                   (ngModelChange)="calcularTotal(catalogos.ram, 'ram')"
                   [name]="'ram_' + item.idram">
          </div>
          
          <div class="col-md-4">
            <label class="form-label fw-bold text-secondary">TOTAL RAM</label>
            <input type="number" class="form-control fw-bold bg-light text-primary" 
                   [value]="totales.ram" readonly>
          </div>
        </div>

        <hr>

        <h5 class="titulo-azul mb-1 mt-4"><i class="bi bi-windows me-2"></i>3. Sistema Operativo</h5>
        <p class="descripcion-inter">Versión del software principal instalado</p>

        <div class="row g-3 mb-4">
          <div class="col-md-4" *ngFor="let item of catalogos.so">
            <label class="form-label fw-bold">{{ item.nombresistema }}</label>
            <input type="number" class="form-control" min="0" placeholder="0"
                   [(ngModel)]="item.cantidad" 
                   (ngModelChange)="calcularTotal(catalogos.so, 'so')"
                   [name]="'so_' + item.idsistema">
          </div>
          
          <div class="col-md-4">
            <label class="form-label fw-bold text-secondary">TOTAL S.O.</label>
            <input type="number" class="form-control fw-bold bg-light text-primary" 
                   [value]="totales.so" readonly>
          </div>
        </div>

        <hr>

        <h5 class="titulo-azul mb-1 mt-4"><i class="bi bi-hdd me-2"></i>4. Disco Duro</h5>
        <p class="descripcion-inter">Capacidad de almacenamiento interno</p>

        <div class="row g-3 mb-4">
          <div class="col-md-4" *ngFor="let item of catalogos.discos">
            <label class="form-label fw-bold">{{ item.capacidad }}</label>
            <input type="number" class="form-control" min="0" placeholder="0"
                   [(ngModel)]="item.cantidad" 
                   (ngModelChange)="calcularTotal(catalogos.discos, 'discos')"
                   [name]="'disco_' + item.idcapacidad">
          </div>
          
          <div class="col-md-4">
            <label class="form-label fw-bold text-secondary">TOTAL DISCOS</label>
            <input type="number" class="form-control fw-bold bg-light text-primary" 
                   [value]="totales.discos" readonly>
          </div>
        </div>

        <hr>

        <h5 class="titulo-azul mb-1 mt-4"><i class="bi bi-hourglass-split me-2"></i>5. Antigüedad del Equipo</h5>
        <p class="descripcion-inter">Años de servicio de los equipos de cómputo</p>

        <div class="row g-3 mb-4">
          <div class="col-md-4" *ngFor="let item of catalogos.antiguedades">
            <label class="form-label fw-bold">{{ item.antiguedad }}</label>
            <input type="number" class="form-control" min="0" placeholder="0"
                   [(ngModel)]="item.cantidad" 
                   (ngModelChange)="calcularTotal(catalogos.antiguedades, 'antiguedades')"
                   [name]="'ant_' + item.idantiguedad">
          </div>
          
          <div class="col-md-4">
            <label class="form-label fw-bold text-secondary">TOTAL ANTIGÜEDAD</label>
            <input type="number" class="form-control fw-bold bg-light text-primary" 
                   [value]="totales.antiguedades" readonly>
          </div>
        </div>

        <div class="d-flex justify-content-end mt-4">
          <button type="submit" class="btn btn-azul-inst btn-lg px-5">
            Guardar y Continuar <i class="bi bi-arrow-right ms-2"></i>
          </button>
        </div>

      </form>
    </div>
  </div>
</div>