<div class="inicio-container">
  <div class="inicio-card">
    <div class="mb-3">
      <i class="bi bi-laptop-fill icono-bienvenida"></i>
    </div>

    <h2>Instituto Tecnológico de Durango</h2>
    <p class="subtitulo">Avance del Formulario</p>

    <div *ngIf="cargando" class="py-4">
      <div class="spinner-border text-primary" role="status" style="color: #621231 !important;"></div>
      <p class="mt-2 text-muted">Sincronizando datos...</p>
    </div>

    <div *ngIf="!cargando" class="mt-4">
      
      <div class="mb-4 text-start">
        <label class="form-label fw-bold text-muted small">Departamento:</label>
        <select 
          class="form-select border-primary" 
          [(ngModel)]="departamentoSeleccionado"
          (change)="onDepartamentoChange()"
          [disabled]="datosGuardados?.departamento || departamentoBloqueado">
          <option *ngIf="!departamentoSeleccionado" value="" disabled selected>-- Selecciona uno --</option>
          <option *ngFor="let depto of departamentos" [value]="depto">
            {{ depto }}
          </option>
        </select>
        

        <div *ngIf="departamentoBloqueado" class="form-text text-success">
          <i class="bi bi-lock-fill"></i> Has seleccionado <strong>{{ departamentoSeleccionado }}</strong> para este censo y no puedes cambiarlo.
        </div>
      </div>

      <button class="btn btn-azul mb-3 w-100" (click)="continuar()" [disabled]="cargandoBtn">
        {{ nombrePaso }}
      </button>

      <button class="btn btn-outline-guinda w-100" (click)="cerrarSesion()">
        <i class="bi bi-box-arrow-left"></i> Cerrar Sesión
      </button>

    </div>
  </div>
</div>